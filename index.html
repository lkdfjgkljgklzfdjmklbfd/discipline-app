<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="theme-color" content="#000000">
<title>DISCIPLINE</title>

<style>
:root{
  --red:#ff1a1a;
  --red2:#b30000;
  --panel: rgba(10,10,10,0.92);
  --panel2: rgba(18,18,18,0.92);
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.65);
}

*{ box-sizing:border-box; }
html, body{ height:100%; }

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:#000;
  color:var(--text);
  overflow:hidden;
}

canvas{
  position:fixed;
  inset:0;
  width:100vw;
  height:100vh;
  z-index:-2;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0.25), rgba(0,0,0,0.82));
  z-index:-1;
}

#container{
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}

.card{
  width:min(820px, 100%);
  background: linear-gradient(180deg, var(--panel), var(--panel2));
  border:1px solid rgba(255,26,26,0.14);
  border-radius:24px;
  box-shadow: 0 18px 70px rgba(255,0,0,0.18);
  padding:28px;
  transform: translateZ(0);
}

/* ===== Intro ===== */
#intro h1{
  font-size: clamp(42px, 7vw, 66px);
  font-weight: 800;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  margin: 0;
  line-height: 1;
  color: #ff1a1a;
  text-shadow:
    0 0 8px rgba(255,0,0,0.35),
    0 0 20px rgba(255,0,0,0.18);
}
#intro h2{
  margin-top: 12px;
  font-size: 12px;
  letter-spacing: 0.35em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.65);
  font-weight: 600;
}
.terminal-line{
  width: min(360px, 85%);
  height: 2px;
  margin: 16px auto 10px;
  background: linear-gradient(90deg, transparent, rgba(255,0,0,0.95), transparent);
  box-shadow: 0 0 14px rgba(255,0,0,0.4);
}

#mode{
  font-size:22px;
  margin:6px 0 12px;
}

button{
  appearance:none;
  border:none;
  cursor:pointer;
  background: linear-gradient(180deg, var(--red2), #7a0000);
  color:white;
  font-weight:800;
  letter-spacing:1px;
  border-radius:16px;
  height:54px;
  padding:0 18px;
  min-width: 220px;
  box-shadow: 0 10px 26px rgba(255,0,0,0.18);
  transition: transform .08s ease, filter .15s ease;
}
button:hover{ filter:brightness(1.08); }
button:active{ transform: scale(0.98); }

.choice{
  background: rgba(28,28,28,0.92);
  border: 1px solid rgba(255,255,255,0.14);
  border-radius: 20px;
  padding: 18px 16px;
  margin: 12px 0;
  cursor: pointer;
  font-size: 19px;
  line-height: 1.35;
}
.choice.selected{
  border-color: rgba(255,26,26,0.90);
  box-shadow: 0 0 0 2px rgba(255,26,26,0.28);
}

.word-container{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:10px;
  margin:16px 0;
  min-height:64px;
  padding:10px;
  border-radius:16px;
  background: rgba(28,28,28,0.75);
  border:1px solid rgba(255,255,255,0.10);
}
.word{
  background: rgba(255,26,26,0.18);
  border:1px solid rgba(255,26,26,0.28);
  padding:10px 14px;
  border-radius:16px;
  font-size:17px;
  font-weight:700;
}

#result{
  margin-top:14px;
  font-size:18px;
  font-weight:900;
}

/* ===== HUD ===== */
#streakBox{
  position:fixed;
  top:12px;
  right:12px;
  font-size:13px;
  z-index:9999;
}

#credit{
  position:fixed;
  bottom:12px;
  right:12px;
  font-size:12px;
  color:rgba(255,255,255,0.55);
}

/* ===== MONEY POP (FHT) ===== */
#toast{
  position: fixed;
  left: 50%;
  top: 18px;
  transform: translateX(-50%);
  z-index: 999999;
  pointer-events: none;
  opacity: 0;
}
.toast-inner{
  display:flex;
  align-items:center;
  gap:10px;
  background: rgba(20,20,20,0.92);
  border: 1px solid rgba(255,255,255,0.14);
  border-radius: 999px;
  padding: 10px 14px;
  font-weight: 900;
}
.toast-show{
  animation: toastInOut 1s ease forwards;
}
@keyframes toastInOut{
  0%{ opacity:0; transform: translateX(-50%) translateY(-8px) scale(0.96); }
  15%{ opacity:1; transform: translateX(-50%) translateY(0px) scale(1); }
  80%{ opacity:1; }
  100%{ opacity:0; transform: translateX(-50%) translateY(-10px); }
}

/* ===== Rank Up ===== */
#rankUpOverlay{
  position: fixed;
  inset: 0;
  display:none;
  align-items:center;
  justify-content:center;
  background: rgba(0,0,0,0.78);
  z-index:999998;
}
.rankup-card{
  width:min(520px,100%);
  background:#111;
  border:1px solid rgba(255,26,26,0.25);
  border-radius:24px;
  padding:22px;
  text-align:center;
}
.rankup-name{
  font-size:28px;
  color:var(--red);
  font-weight:900;
}

/* ===== Trophy Road ===== */
#road{
  margin-top:14px;
  display:flex;
  gap:8px;
  overflow:auto;
  padding-bottom:6px;
}
.road-item{
  min-width:110px;
  background:#1a1a1a;
  border:1px solid rgba(255,255,255,0.12);
  border-radius:12px;
  padding:8px;
  text-align:center;
  font-size:12px;
}
.road-item.active{
  border-color:var(--red);
  box-shadow:0 0 0 2px rgba(255,0,0,0.25);
}

@media (max-width:520px){
  #container{ padding:0; }
  .card{
    width:100%;
    min-height:100vh;
    border-radius:0;
    padding:16px;
  }
}
</style>
</head>

<body>
<canvas id="bg"></canvas>

<div id="streakBox"></div>
<div id="credit">made by Frihet</div>

<!-- MONEY POP -->
<div id="toast">
  <div id="toastInner" class="toast-inner">
    <span>ðŸ’°</span>
    <span id="toastText">+2 FHT</span>
  </div>
</div>

<!-- RANK UP -->
<div id="rankUpOverlay">
  <div class="rankup-card">
    <h3>RANK UP</h3>
    <div class="rankup-name" id="rankUpName">Millionaire</div>
    <button onclick="closeRankUp()">CONTINUE â†’</button>
  </div>
</div>

<div id="container">
  <div class="card" id="intro">
    <h1>DISCIPLINE</h1>
    <h2>YOU VS YOU</h2>
    <div class="terminal-line"></div>
    <button onclick="startGame()">START SESSION â†’</button>
  </div>
</div>

<script>
/* ===== BACKGROUND ===== */
const canvas=document.getElementById("bg");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}
resize(); addEventListener("resize",resize);

let candles=[];
for(let i=0;i<40;i++){
  candles.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight,h:20+Math.random()*60,s:0.5+Math.random()});
}
function anim(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  candles.forEach(c=>{
    ctx.fillStyle="rgba(255,0,0,0.35)";
    ctx.fillRect(c.x,c.y,6,c.h);
    c.y+=c.s;
    if(c.y>innerHeight)c.y=-c.h;
  });
  requestAnimationFrame(anim);
}
anim();

/* ===== DATA ===== */
const items=[
{en:"I feel you, bro. Iâ€™ve also been through a lot."},
{en:"You donâ€™t need motivation. you just need discipline, bro."},
{en:"You just need to control yourself. itâ€™s you vs you, bro."},
{en:"I want you to succeed, bro. I believe in you."},
{en:"But you know, someone has to do 9 to 5 stuff. Not everyone can be a millionaire."},
{en:"I know itâ€™s hard but dude nothing is easy in this world. You gotta work hard."},
{en:"Go ghost, bro. You canâ€™t grow when people are around you."},
{en:"Lock in. You wanna be rich or not?"},
{en:"I donâ€™t wanna be an NPC, bro. Thatâ€™s why Iâ€™m working this hard."},
{en:"You think I enjoy going to the gym every day? Hell nah, bro. I genuinely donâ€™t."},
{en:"You live only one life, bro. Nothing can stop you. do what you want."},
{en:"If you want big money, make a big move. You canâ€™t get rich with a 9 to 5 job, you know that."},
{en:"If you wanna be different, you gotta be emotionless, bro. Learn to control your emotions"},
{en:"Bro, everyoneâ€™s lost. Itâ€™s not just you. Weâ€™re all lost. Thatâ€™s the beauty of life"}
];

/* ===== STATE ===== */
let used=[],currentIndex=0,score=0,round=0,audio=null,selectedChoice=null;

/* ===== FHT MONEY SYSTEM ===== */
const MONEY_KEY="FHT_money";
function getMoney(){ return parseInt(localStorage.getItem(MONEY_KEY)||"0"); }
function setMoney(v){ if(v<0)v=0; localStorage.setItem(MONEY_KEY,v); }
function addMoney(v){
  const old=getMoney();
  setMoney(old+v);
  return {old,now:getMoney()};
}

/* ===== RANKS ===== */
const RANKS=[
{name:"Loser",min:0},
{name:"NPC",min:50},
{name:"Human",min:150},
{name:"Rich",min:300},
{name:"Millionaire",min:600},
{name:"Billionaire",min:1000}
];
function rankFor(v){
  let r=RANKS[0];
  for(let i=0;i<RANKS.length;i++) if(v>=RANKS[i].min) r=RANKS[i];
  return r;
}

/* ===== STREAK ===== */
function updateStreak(){
  let today=new Date().toDateString();
  let last=localStorage.getItem("lastDate");
  let streak=parseInt(localStorage.getItem("streak")||"0");
  if(last!==today){
    let y=new Date(); y.setDate(y.getDate()-1);
    streak=(last===y.toDateString())?streak+1:1;
    localStorage.setItem("streak",streak);
    localStorage.setItem("lastDate",today);
  }
  document.getElementById("streakBox").innerText="ðŸ”¥ Streak: "+(localStorage.getItem("streak")||1);
}
updateStreak();

/* ===== START ===== */
function startGame(){
  document.getElementById("container").innerHTML=
  `<div class="card" id="gameCard">
    <div id="hud"></div>
    <h2 id="mode">MIX</h2>
    <button onclick="playAudio()">PLAY</button>
    <div id="content"></div>
    <div id="result"></div>
    <div id="road"></div>
  </div>`;
  used=[]; score=0; round=0;
  updateHUD();
  updateRoad();
  nextRound();
}

/* ===== HUD ===== */
function updateHUD(){
  const money=getMoney();
  const rank=rankFor(money);
  document.getElementById("hud").innerHTML=
  `ðŸ’° FHT: <b id="moneyNum">${money}</b> | Rank: <b>${rank.name}</b>`;
}

/* money animation */
function animateMoney(from,to){
  const el=document.getElementById("moneyNum");
  if(!el) return;
  let start=from;
  const diff=to-from;
  const steps=12;
  let i=0;
  const iv=setInterval(()=>{
    i++;
    el.innerText=Math.round(start + diff*(i/steps));
    if(i>=steps) clearInterval(iv);
  },20);
}

/* ===== ROAD ===== */
function updateRoad(){
  const road=document.getElementById("road");
  if(!road) return;
  const money=getMoney();
  road.innerHTML="";
  RANKS.forEach(r=>{
    const d=document.createElement("div");
    d.className="road-item"+(money>=r.min?" active":"");
    d.innerHTML=`ðŸ’°<br>${r.name}<br>${r.min}+`;
    road.appendChild(d);
  });
}

/* ===== TOAST ===== */
function showToast(v){
  const toast=document.getElementById("toast");
  const text=document.getElementById("toastText");
  text.innerText=(v>0?`+${v}`:`${v}`)+" FHT";
  toast.classList.remove("toast-show");
  void toast.offsetWidth;
  toast.classList.add("toast-show");
}

/* ===== RANK UP ===== */
let pendingNext=null;
function showRankUp(name){
  document.getElementById("rankUpName").innerText=name;
  document.getElementById("rankUpOverlay").style.display="flex";
}
function closeRankUp(){
  document.getElementById("rankUpOverlay").style.display="none";
  if(pendingNext){ pendingNext(); pendingNext=null; }
}

/* ===== GAME ===== */
function normalize(t){
  return t.toLowerCase().replace(/[.,!?]/g,"").replace(/\s+/g,"").trim();
}

function nextRound(){
  if(round>=items.length){
    document.getElementById("content").innerHTML=
    `<h2>Session Complete</h2>
     <p>Score: ${score}/${items.length}</p>
     <button onclick="location.reload()">Restart</button>`;
    return;
  }

  round++;
  selectedChoice=null;
  document.getElementById("result").innerText="";
  document.getElementById("content").innerHTML="";

  do{
    currentIndex=Math.floor(Math.random()*items.length);
  }while(used.includes(currentIndex));
  used.push(currentIndex);

  if(Math.random()>0.5) buildListen();
  else buildDrag();
}

function buildListen(){
  const correct=items[currentIndex].en;
  let options=[correct];
  while(options.length<4){
    let r=items[Math.floor(Math.random()*items.length)].en;
    if(!options.includes(r)) options.push(r);
  }
  options.sort(()=>0.5-Math.random());

  options.forEach(o=>{
    let div=document.createElement("div");
    div.className="choice";
    div.innerText=o;
    div.onclick=()=>{
      document.querySelectorAll(".choice").forEach(c=>c.classList.remove("selected"));
      div.classList.add("selected");
      selectedChoice=o;
    };
    content.appendChild(div);
  });

  let btn=document.createElement("button");
  btn.innerText="CHECK";
  btn.onclick=()=>{
    if(!selectedChoice) return;
    if(normalize(selectedChoice)===normalize(correct)) success();
    else fail();
  };
  content.appendChild(btn);
}

function buildDrag(){
  const sentence=items[currentIndex].en;
  let words=sentence.split(" ");
  let shuffled=[...words].sort(()=>0.5-Math.random());

  let top=document.createElement("div");
  top.className="word-container"; top.id="top";
  let bottom=document.createElement("div");
  bottom.className="word-container"; bottom.id="bottom";

  shuffled.forEach(w=>{
    let span=document.createElement("div");
    span.className="word";
    span.innerText=w;
    span.onclick=()=>{
      if(span.parentElement.id==="bottom") top.appendChild(span);
      else bottom.appendChild(span);
    };
    bottom.appendChild(span);
  });

  let btn=document.createElement("button");
  btn.innerText="CHECK";
  btn.onclick=()=>{
    let built="";
    document.querySelectorAll("#top .word").forEach(w=>built+=w.innerText+" ");
    if(normalize(built)===normalize(sentence)) success();
    else fail();
  };

  content.appendChild(top);
  content.appendChild(bottom);
  content.appendChild(btn);
}

/* ===== SUCCESS / FAIL ===== */
function success(){
  score++;
  const before=getMoney();
  const oldRank=rankFor(before).name;

  const res=addMoney(2);
  animateMoney(before,res.now);
  showToast(+2);

  updateHUD();
  updateRoad();

  const newRank=rankFor(res.now).name;
  document.getElementById("result").innerText="LOCKED.";

  if(newRank!==oldRank){
    pendingNext=()=>setTimeout(nextRound,250);
    showRankUp(newRank);
    return;
  }

  setTimeout(nextRound,1200);
}

function fail(){
  const before=getMoney();
  addMoney(-1);
  const after=getMoney();

  animateMoney(before,after);
  showToast(-1);

  updateHUD();
  updateRoad();

  document.getElementById("result").innerText="-1. Refocus.";
  setTimeout(nextRound,1400);
}

/* ===== AUDIO ===== */
function playAudio(){
  if(audio){audio.pause();audio.currentTime=0;}
  audio=new Audio("audio"+(currentIndex+1)+".mp3");
  audio.play();
}
</script>
</body>
</html>



